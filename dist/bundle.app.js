var _0x0180=["getDate","getHours","getMinutes","createElement","pitchblack_",".jpg","scaling","draw","HAVE_ENOUGH_DATA","update","bind","camera","THRESHOLD","SOFT","soft","INVERT","renderToScreen","viewport","width","height","WEIGHT","DECAY_FACTOR","DENSITY","lastFrameTimeMs","innerHeight","videoWidth","videoHeight","postFBO","projection","perspective","call","exports","defineProperty","__esModule","prototype","hasOwnProperty","HTMLCanvasElement","toDataURL","length","toBlob","toBlobHD","image/png","mozGetAsFile","canvas","msToBlob","slice","indexOf","substring","test","fake","base64","encoding","URI","data","size","toDataURLHD","undefined","userAgent","document","URL","webkitURL","createElementNS","http://www.w3.org/1999/xhtml","download","click","dispatchEvent","HTMLElement","safari","setImmediate","setTimeout","application/octet-stream","string","revokeObjectURL","remove","function","fromCharCode","type","writestart progress write writeend","split","FileReader","result","data:attachment/file;","open","_blank","location","readyState","DONE","readAsDataURL","createObjectURL","href","msSaveOrOpenBlob","name","abort","WRITING","onwritestart","onprogress","onwrite","onerror","onwriteend","content","saveAs","define cannot be used indirect","#ui","show","constraints","mediaDevices","getUserMedia","then","done","catch","noSupport","log","renderer","context","stream","Loader","loadAssets","glsl/thresold.glsl","thresold.glsl","post.glsl","webcam","sqr","hud","video","loop","muted","setAttribute","playsinline","params","save","Renderer","#gl","clearColor","rawFBO","FrameBuffer","thresoldFBO","post","Primitives","thresold","createPostEffect","Transform","root","texture","LINEAR","Shader","GLSL","use","setUniform","uTexture","plane","createPlane","rotation","shader","add","isTouch","ontouchstart","touchmove","mousemove","addEventListener","resize","gui","GUI","addFolder","rays","weight","decay","density","black & white","invert","threshold","quality","step","onChange","set_quality","take screenshot!","now","render","image/jpeg","chrome","getFullYear","getMonth"];!function(x,t){!function(t){for(;--t;)x.push(x.shift())}(++t)}(_0x0180,211);var _0x0018=function(x,t){return x-=0,_0x0180[x]};!function(x){function t(i){if(e[i])return e[i].exports;var _=e[i]={i:i,l:![],exports:{}};return x[i][_0x0018("0x0")](_[_0x0018("0x1")],_,_[_0x0018("0x1")],t),_.l=!![],_[_0x0018("0x1")]}var e={};t.m=x,t.c=e,t.d=function(x,e,i){t.o(x,e)||Object[_0x0018("0x2")](x,e,{configurable:![],enumerable:!![],get:i})},t.n=function(x){var e=x&&x[_0x0018("0x3")]?function(){return x.default}:function(){return x};return t.d(e,"a",e),e},t.o=function(x,t){return Object[_0x0018("0x4")][_0x0018("0x5")].call(x,t)},t.p="",t(t.s=0)}([function(x,t,e){x.exports=e(1)},function(x,t,e){"use strict";e(2),e(3),e(4),e(5),e(6),e(9)},function(x,t){},function(x,t){},function(x,t){},function(x,t,e){"use strict";!function(x){var t,e=x.Uint8Array,i=x[_0x0018("0x6")],_=i&&i.prototype,n=/\s*;\s*base64\s*(?:;|$)/i,s=_0x0018("0x7"),o=function(x){for(var i,_,n=x[_0x0018("0x8")],s=new e(n/4*3|0),o=0,a=0,r=[0,0],h=0,d=0;n--;)_=x.charCodeAt(o++),255!==(i=t[_-43])&&void 0!==i&&(r[1]=r[0],r[0]=_,d=d<<6|i,4===++h&&(s[a++]=d>>>16,61!==r[1]&&(s[a++]=d>>>8),61!==r[0]&&(s[a++]=d),h=0));return s};e&&(t=new e([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!i||_[_0x0018("0x9")]&&_[_0x0018("0xa")]||(_[_0x0018("0x9")]||(_[_0x0018("0x9")]=function(x,t){if(t||(t=_0x0018("0xb")),this[_0x0018("0xc")])return void x(this[_0x0018("0xc")](_0x0018("0xd"),t));if(this[_0x0018("0xe")]&&/^\s*image\/png\s*(?:$|;)/i.test(t))return void x(this[_0x0018("0xe")]());var i,_=Array.prototype[_0x0018("0xf")][_0x0018("0x0")](arguments,1),a=this[s].apply(this,_),r=a[_0x0018("0x10")](","),h=a[_0x0018("0x11")](r+1),d=n[_0x0018("0x12")](a[_0x0018("0x11")](0,r));Blob[_0x0018("0x13")]?(i=new Blob,d?i.encoding=_0x0018("0x14"):i[_0x0018("0x15")]=_0x0018("0x16"),i[_0x0018("0x17")]=h,i[_0x0018("0x18")]=h[_0x0018("0x8")]):e&&(i=d?new Blob([o(h)],{type:t}):new Blob([decodeURIComponent(h)],{type:t})),x(i)}),!_.toBlobHD&&_[_0x0018("0x19")]?_.toBlobHD=function(){s=_0x0018("0x19");var x=this.toBlob();return s=_0x0018("0x7"),x}:_.toBlobHD=_.toBlob)}(typeof self!==_0x0018("0x1a")&&self||typeof window!==_0x0018("0x1a")&&window||(void 0).content||void 0)},function(x,t,e){"use strict";var i,_=_||function(x){if(!(typeof x===_0x0018("0x1a")||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator[_0x0018("0x1b")]))){var t=x[_0x0018("0x1c")],e=function(){return x[_0x0018("0x1d")]||x[_0x0018("0x1e")]||x},i=t[_0x0018("0x1f")](_0x0018("0x20"),"a"),_=_0x0018("0x21")in i,n=function(x){var t=new MouseEvent(_0x0018("0x22"));x[_0x0018("0x23")](t)},s=/constructor/i[_0x0018("0x12")](x[_0x0018("0x24")])||x[_0x0018("0x25")],o=/CriOS\/[\d]+/[_0x0018("0x12")](navigator[_0x0018("0x1b")]),a=function(t){(x[_0x0018("0x26")]||x[_0x0018("0x27")])(function(){throw t},0)},r=_0x0018("0x28"),h=function(x){var t=function(){typeof x===_0x0018("0x29")?e()[_0x0018("0x2a")](x):x[_0x0018("0x2b")]()};setTimeout(t,4e4)},d=function(x,t,e){t=[].concat(t);for(var i=t.length;i--;){var _=x["on"+t[i]];if(typeof _===_0x0018("0x2c"))try{_[_0x0018("0x0")](x,e||x)}catch(x){a(x)}}},c=function(x){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i[_0x0018("0x12")](x.type)?new Blob([String[_0x0018("0x2d")](65279),x],{type:x[_0x0018("0x2e")]}):x},u=function(t,a,u){u||(t=c(t));var f,l=this,p=t[_0x0018("0x2e")],m=p===r,v=function(){d(l,_0x0018("0x2f")[_0x0018("0x30")](" "))};if(l.readyState=l.INIT,_)return f=e()[_0x0018("0x3a")](t),void setTimeout(function(){i[_0x0018("0x3b")]=f,i[_0x0018("0x21")]=a,n(i),v(),h(f),l[_0x0018("0x37")]=l[_0x0018("0x38")]});!function(){if((o||m&&s)&&x[_0x0018("0x31")]){var i=new FileReader;return i.onloadend=function(){var t=o?i.result:i[_0x0018("0x32")].replace(/^data:[^;]*;/,_0x0018("0x33"));x[_0x0018("0x34")](t,_0x0018("0x35"))||(x[_0x0018("0x36")].href=t),t=void 0,l[_0x0018("0x37")]=l[_0x0018("0x38")],v()},i[_0x0018("0x39")](t),void(l[_0x0018("0x37")]=l.INIT)}if(f||(f=e()[_0x0018("0x3a")](t)),m)x[_0x0018("0x36")].href=f;else{x[_0x0018("0x34")](f,_0x0018("0x35"))||(x[_0x0018("0x36")][_0x0018("0x3b")]=f)}l.readyState=l[_0x0018("0x38")],v(),h(f)}()},f=u[_0x0018("0x4")],l=function(x,t,e){return new u(x,t||x.name||"download",e)};return typeof navigator!==_0x0018("0x1a")&&navigator[_0x0018("0x3c")]?function(x,t,e){return t=t||x[_0x0018("0x3d")]||_0x0018("0x21"),e||(x=c(x)),navigator[_0x0018("0x3c")](x,t)}:(f[_0x0018("0x3e")]=function(){},f[_0x0018("0x37")]=f.INIT=0,f[_0x0018("0x3f")]=1,f.DONE=2,f.error=f[_0x0018("0x40")]=f[_0x0018("0x41")]=f[_0x0018("0x42")]=f.onabort=f[_0x0018("0x43")]=f[_0x0018("0x44")]=null,l)}}(typeof self!==_0x0018("0x1a")&&self||"undefined"!=typeof window&&window||(void 0)[_0x0018("0x45")]);typeof x!==_0x0018("0x1a")&&x[_0x0018("0x1")]?x[_0x0018("0x1")][_0x0018("0x46")]=_:"function"!==_0x0018("0x1a")&&null!==e(7)&&null!==e(8)&&void 0!==(i=function(){return _}[_0x0018("0x0")](t,e,t,x))&&(x[_0x0018("0x1")]=i)},function(x,t){x[_0x0018("0x1")]=function(){throw new Error(_0x0018("0x47"))}},function(x,t){(function(t){x[_0x0018("0x1")]=t})[_0x0018("0x0")](t,{})},function(x,t,e){"use strict";function i(x,t,e){return t in x?Object[_0x0018("0x2")](x,t,{value:e,enumerable:!![],configurable:!![],writable:!![]}):x[t]=e,x}var _;new Vue({el:_0x0018("0x48"),data:{show:1,hud:0,isTouch:![],noSupport:![],scaling:1,params:{weight:.75,decay:.9,density:.85,quality:3,samples:20,threshold:.28,invert:![],soft:.001}},mounted:function(){this.$nextTick(this.run)},methods:(_={run:function(){this[_0x0018("0x49")]=0,this[_0x0018("0x4a")]={audio:![],video:{mandatory:{minWidth:640,minHeight:480},optional:[{minFrameRate:35},{maxWidth:640},{maxHeigth:480}]}},typeof navigator[_0x0018("0x4b")]!==_0x0018("0x1a")?navigator.mediaDevices.getUserMedia&&navigator[_0x0018("0x4b")][_0x0018("0x4c")](this[_0x0018("0x4a")])[_0x0018("0x4d")](this[_0x0018("0x4e")])[_0x0018("0x4f")](this.fail):this[_0x0018("0x50")]=!![]},save_screenshot:function(){console[_0x0018("0x51")](this[_0x0018("0x52")][_0x0018("0x53")].gl[_0x0018("0xd")])},done:function(x){this[_0x0018("0x54")]=x,SQR[_0x0018("0x55")][_0x0018("0x56")]([[_0x0018("0x57"),_0x0018("0x58")],["glsl/godray.glsl",_0x0018("0x59")],_0x0018("0x5a")],this[_0x0018("0x5b")])},fail:function(){this[_0x0018("0x50")]=!![]},sqr:function(x){this[_0x0018("0x5c")]=1,this[_0x0018("0x49")]=0,this[_0x0018("0x5d")]=x[_0x0018("0x5a")],this[_0x0018("0x5d")][_0x0018("0x5e")]=!![],this[_0x0018("0x5d")][_0x0018("0x5f")]=!![],this[_0x0018("0x5d")][_0x0018("0x60")]("webkit-playsinline","webkit-playsinline"),this[_0x0018("0x5d")].setAttribute(_0x0018("0x61"),"playsinline"),this[_0x0018("0x62")][_0x0018("0x63")]=this.save_screenshot,this[_0x0018("0x52")]=SQR[_0x0018("0x64")](_0x0018("0x65"),{antialias:!![]})[_0x0018("0x66")](0,0,0,1),this[_0x0018("0x67")]=SQR[_0x0018("0x68")](),this.postFBO=SQR[_0x0018("0x68")](),this[_0x0018("0x69")]=SQR[_0x0018("0x68")](),this[_0x0018("0x6a")]=SQR[_0x0018("0x6b")].createPostEffect(x[_0x0018("0x59")]),this[_0x0018("0x6c")]=SQR[_0x0018("0x6b")][_0x0018("0x6d")](x[_0x0018("0x58")]),this.camera=SQR[_0x0018("0x6e")](),this.camera.position.z=2.5,this[_0x0018("0x6f")]=SQR[_0x0018("0x6e")](),this[_0x0018("0x6f")].add(this.camera),this[_0x0018("0x70")]=SQR.Texture(this.video,{isAnimated:!![],minFilter:this.renderer.context.gl[_0x0018("0x71")],magFilter:this[_0x0018("0x52")][_0x0018("0x53")].gl[_0x0018("0x71")]}),this.shader=SQR[_0x0018("0x72")](SQR[_0x0018("0x73")].texture)[_0x0018("0x74")]()[_0x0018("0x75")](_0x0018("0x76"),this[_0x0018("0x70")]),this[_0x0018("0x77")]=SQR.Transform(),this[_0x0018("0x77")].buffer=SQR[_0x0018("0x6b")][_0x0018("0x78")](4,4,8,8,0,0).update(),this[_0x0018("0x77")][_0x0018("0x79")].x=Math.PI/2,this[_0x0018("0x77")][_0x0018("0x7a")]=this.shader,this[_0x0018("0x6f")][_0x0018("0x7b")](this[_0x0018("0x77")]),this[_0x0018("0x7c")]=_0x0018("0x7d")in document,this.mousemove=_0x0018(this.isTouch?"0x7e":"0x7f"),window[_0x0018("0x80")](_0x0018("0x81"),this[_0x0018("0x81")]),this.tx=0,this.ty=0,this.mx=0,this.my=0,this[_0x0018("0x82")]=new(dat[_0x0018("0x83")]);var t=this[_0x0018("0x82")][_0x0018("0x84")](_0x0018("0x85"));t[_0x0018("0x7b")](this[_0x0018("0x62")],_0x0018("0x86"),.1,1),t[_0x0018("0x7b")](this[_0x0018("0x62")],_0x0018("0x87"),.6,1),t.add(this.params,_0x0018("0x88"),.1,1),t[_0x0018("0x34")](),t=this[_0x0018("0x82")].addFolder(_0x0018("0x89")),t[_0x0018("0x7b")](this[_0x0018("0x62")],_0x0018("0x8a")),t[_0x0018("0x7b")](this[_0x0018("0x62")],_0x0018("0x8b"),.02,1),t.open(),this.gui[_0x0018("0x7b")](this.params,_0x0018("0x8c"),1,3.5)[_0x0018("0x8d")](.25)[_0x0018("0x8e")](this[_0x0018("0x8f")]),this.gui[_0x0018("0x7b")](this[_0x0018("0x62")],_0x0018("0x63"))[_0x0018("0x3d")](_0x0018("0x90")),this.lastFrameTimeMs=Date[_0x0018("0x91")](),this[_0x0018("0x92")](),this[_0x0018("0x81")]()}},i(_,"save_screenshot",function(){this[_0x0018("0x92")]();var x=this[_0x0018("0x52")][_0x0018("0x53")].gl[_0x0018("0xd")],t=x[_0x0018("0x7")](_0x0018("0x93"));if(navigator.userAgent.toLowerCase().indexOf(_0x0018("0x94"))>-1){var e=new Date,i=e[_0x0018("0x95")]()+"-"+e[_0x0018("0x96")]()+"-"+e[_0x0018("0x97")]()+"_"+e[_0x0018("0x98")]()+"."+e[_0x0018("0x99")]()+"."+e.getSeconds(),_=document[_0x0018("0x9a")]("a");_[_0x0018("0x3b")]=t,_.download=_0x0018("0x9b")+i+_0x0018("0x9c"),_.click()}else window[_0x0018("0x34")](t)}),i(_,_0x0018("0x8f"),function(x){this[_0x0018("0x9d")]=4-x,this[_0x0018("0x81")]()}),i(_,_0x0018("0x9e"),function(){this[_0x0018("0x5d")]&&this[_0x0018("0x5d")].readyState===this.video[_0x0018("0x9f")]&&(this.texture[_0x0018("0xa0")](),this[_0x0018("0x67")][_0x0018("0xa1")](),this[_0x0018("0x52")].render(this[_0x0018("0x6f")],this[_0x0018("0xa2")]),this[_0x0018("0x69")][_0x0018("0xa1")](),this[_0x0018("0x6c")][_0x0018("0x7a")][_0x0018("0x74")](),this.thresold[_0x0018("0x7a")][_0x0018("0x75")](_0x0018("0xa3"),this[_0x0018("0x62")][_0x0018("0x8b")]),this[_0x0018("0x6c")][_0x0018("0x7a")][_0x0018("0x75")](_0x0018("0xa4"),this[_0x0018("0x62")][_0x0018("0xa5")]),this[_0x0018("0x6c")].shader[_0x0018("0x75")](_0x0018("0xa6"),this[_0x0018("0x62")][_0x0018("0x8a")]),this.thresold[_0x0018("0x7a")][_0x0018("0x75")](_0x0018("0x76"),this[_0x0018("0x67")][_0x0018("0x70")]),this[_0x0018("0x52")][_0x0018("0x92")](this[_0x0018("0x6c")]),this.renderer[_0x0018("0xa7")](),this[_0x0018("0x52")][_0x0018("0x53")].gl[_0x0018("0xa8")](0,0,this.renderer[_0x0018("0x53")].canvas[_0x0018("0xa9")],this[_0x0018("0x52")][_0x0018("0x53")][_0x0018("0xd")][_0x0018("0xaa")]),this.post.shader.use(),this[_0x0018("0x6a")][_0x0018("0x7a")][_0x0018("0x75")](_0x0018("0xab"),this.params[_0x0018("0x86")]),this[_0x0018("0x6a")].shader[_0x0018("0x75")](_0x0018("0xac"),this[_0x0018("0x62")][_0x0018("0x87")]),this[_0x0018("0x6a")].shader[_0x0018("0x75")](_0x0018("0xad"),this[_0x0018("0x62")][_0x0018("0x88")]),this.post[_0x0018("0x7a")].setUniform(_0x0018("0x76"),this[_0x0018("0x69")][_0x0018("0x70")]),this.renderer[_0x0018("0x92")](this.post))}),i(_,"render",function(x){if(x<this[_0x0018("0xae")]+20)return void requestAnimationFrame(this[_0x0018("0x92")]);this[_0x0018("0xae")]=x,this[_0x0018("0x9e")](),requestAnimationFrame(this.render)}),i(_,_0x0018("0x81"),function(x){if(this[_0x0018("0x5d")]){var t=window.innerWidth,e=window[_0x0018("0xaf")],i=this[_0x0018("0x5d")][_0x0018("0xb0")]/this[_0x0018("0x5d")][_0x0018("0xb1")];console[_0x0018("0x51")](i),e=this[_0x0018("0x5d")][_0x0018("0xb1")],t=e*i,this[_0x0018("0x67")][_0x0018("0x81")](t/this[_0x0018("0x9d")],e/this.scaling),this[_0x0018("0xb2")][_0x0018("0x81")](t/this[_0x0018("0x9d")],e/this[_0x0018("0x9d")]),this.thresoldFBO[_0x0018("0x81")](t/this[_0x0018("0x9d")],e/this[_0x0018("0x9d")]),this[_0x0018("0x52")][_0x0018("0x53")][_0x0018("0x18")](t/this[_0x0018("0x9d")],e/this[_0x0018("0x9d")],window.devicePixelRatio),this[_0x0018("0xa2")][_0x0018("0xb3")]=(new SQR.ProjectionMatrix)[_0x0018("0xb4")](70,i,1,1e3)}}),_)})}]);